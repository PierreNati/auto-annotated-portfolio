<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camille Levitan - Photographe</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-link" onclick="showHome()">Camille Levitan</div>
        <nav>
            <a class="nav-link" onclick="showContact()">Contact</a>
        </nav>
    </header>

    <!-- Home page with independent scrollable masonry albums -->
    <div id="home-page" class="main-content">
        <div class="album-container" id="album-left">
            <div class="masonry-album" id="album1"></div>
        </div>
        <div class="album-container" id="album-right">
            <div class="masonry-album" id="album2"></div>
        </div>
    </div>

    <!-- Contact page -->
    <div id="contact-page" class="contact-page">
        <h1 class="contact-title">Contact</h1>
        <div class="contact-content">
            <p></p>
            <p><a href="mailto:camillelevitan@gmail.com" class="contact-email">camillelevitan@gmail.com</a></p>
            <p>Bases in Paris and Toulouse<br>
            Disponible pour des projets en France et Ã  l'international</p>
        </div>
    </div>

    <script>
        // Independent image lists for each album
        const leftAlbumImages = [
            { url: 'https://picsum.photos/id/1015/400/600', alt: 'Left Photo 1' },
            { url: 'https://picsum.photos/id/1016/400/700', alt: 'Left Photo 2' },
            { url: 'https://picsum.photos/id/1025/400/500', alt: 'Left Photo 3' },
            { url: 'https://picsum.photos/id/1033/400/300', alt: 'Left Photo 4' },
            { url: 'https://picsum.photos/id/1035/400/400', alt: 'Left Photo 5' },
            { url: 'https://picsum.photos/id/1040/400/800', alt: 'Left Photo 6' },
            { url: 'https://picsum.photos/id/1050/400/600', alt: 'Left Photo 7' },
            { url: 'https://picsum.photos/id/1060/400/450', alt: 'Left Photo 8' },
            { url: 'https://picsum.photos/id/1070/400/650', alt: 'Left Photo 9' },
            { url: 'https://picsum.photos/id/1080/400/550', alt: 'Left Photo 10' },
            { url: 'https://picsum.photos/id/200/400/700', alt: 'Left Photo 11' },
            { url: 'https://picsum.photos/id/201/400/400', alt: 'Left Photo 12' },
            { url: 'https://picsum.photos/id/202/400/600', alt: 'Left Photo 13' },
            { url: 'https://picsum.photos/id/203/400/500', alt: 'Left Photo 14' },
            { url: 'https://picsum.photos/id/204/400/750', alt: 'Left Photo 15' }
        ];

        const rightAlbumImages = [
            { url: 'https://picsum.photos/id/300/400/600', alt: 'Right Photo 1' },
            { url: 'https://picsum.photos/id/301/400/700', alt: 'Right Photo 2' },
            { url: 'https://picsum.photos/id/302/400/500', alt: 'Right Photo 3' },
            { url: 'https://picsum.photos/id/303/400/400', alt: 'Right Photo 4' },
            { url: 'https://picsum.photos/id/304/400/800', alt: 'Right Photo 5' },
            { url: 'https://picsum.photos/id/305/400/350', alt: 'Right Photo 6' },
            { url: 'https://picsum.photos/id/306/400/650', alt: 'Right Photo 7' },
            { url: 'https://picsum.photos/id/307/400/450', alt: 'Right Photo 8' },
            { url: 'https://picsum.photos/id/308/400/550', alt: 'Right Photo 9' },
            { url: 'https://picsum.photos/id/309/400/700', alt: 'Right Photo 10' },
            { url: 'https://picsum.photos/id/310/400/400', alt: 'Right Photo 11' },
            { url: 'https://picsum.photos/id/311/400/600', alt: 'Right Photo 12' },
            { url: 'https://picsum.photos/id/312/400/500', alt: 'Right Photo 13' },
            { url: 'https://picsum.photos/id/313/400/750', alt: 'Right Photo 14' },
            { url: 'https://picsum.photos/id/314/400/350', alt: 'Right Photo 15' }
        ];

        // Shuffle function remains the same
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Initialize shuffled arrays for each album
        let leftImages = [];
        let rightImages = [];
        let leftIndex = 0;
        let rightIndex = 0;

        function initializeAlbums() {
            // Create shuffled versions of each independent list
            leftImages = shuffleArray(leftAlbumImages);
            rightImages = shuffleArray(rightAlbumImages);
            
            leftIndex = 0;
            rightIndex = 0;
        }

        function createPhoto(imageData) {
            const img = document.createElement('img');
            img.src = imageData.url;
            img.alt = imageData.alt;
            img.loading = 'lazy';
            img.className = 'masonry-item';
            
            // Add click handler
            img.addEventListener('click', function() {
                console.log('Photo clicked:', imageData.url);
            });
            
            return img;
        }

        function loadInitialImages() {
            const album1 = document.getElementById('album1');
            const album2 = document.getElementById('album2');
            
            // Load initial images for left album (8 images)
            for (let i = 0; i < 8 && leftIndex < leftImages.length; i++) {
                const img = createPhoto(leftImages[leftIndex]);
                album1.appendChild(img);
                leftIndex++;
            }
            
            // Load initial images for right album (8 images)
            for (let i = 0; i < 8 && rightIndex < rightImages.length; i++) {
                const img = createPhoto(rightImages[rightIndex]);
                album2.appendChild(img);
                rightIndex++;
            }
        }

        // Updated load functions to use independent lists
        function loadMoreImagesLeft() {
            const album1 = document.getElementById('album1');
            
            for (let i = 0; i < 4; i++) {
                if (leftIndex >= leftImages.length) {
                    // Reshuffle the LEFT album images only
                    leftImages = shuffleArray(leftAlbumImages);
                    leftIndex = 0;
                }
                
                const img = createPhoto(leftImages[leftIndex]);
                album1.appendChild(img);
                leftIndex++;
            }
        }

        function loadMoreImagesRight() {
            const album2 = document.getElementById('album2');
            
            for (let i = 0; i < 4; i++) {
                if (rightIndex >= rightImages.length) {
                    // Reshuffle the RIGHT album images only
                    rightImages = shuffleArray(rightAlbumImages);
                    rightIndex = 0;
                }
                
                const img = createPhoto(rightImages[rightIndex]);
                album2.appendChild(img);
                rightIndex++;
            }
        }
        
        // Independent scroll handlers
        let isLoadingLeft = false;
        let isLoadingRight = false;

        function handleLeftScroll() {
            if (isLoadingLeft) return;
            
            const container = document.getElementById('album-left');
            const scrollTop = container.scrollTop;
            const scrollHeight = container.scrollHeight;
            const clientHeight = container.clientHeight;
            
            if (scrollTop + clientHeight >= scrollHeight - 800) {
                isLoadingLeft = true;
                loadMoreImagesLeft();
                setTimeout(() => {
                    isLoadingLeft = false;
                }, 200);
            }
        }

        function handleRightScroll() {
            if (isLoadingRight) return;
            
            const container = document.getElementById('album-right');
            const scrollTop = container.scrollTop;
            const scrollHeight = container.scrollHeight;
            const clientHeight = container.clientHeight;
            
            if (scrollTop + clientHeight >= scrollHeight - 800) {
                isLoadingRight = true;
                loadMoreImagesRight();
                setTimeout(() => {
                    isLoadingRight = false;
                }, 200);
            }
        }

        // Page navigation
        function showHome() {
            document.getElementById('home-page').style.display = 'flex';
            document.getElementById('contact-page').style.display = 'none';
            
            // Add scroll listeners for both albums
            document.getElementById('album-left').addEventListener('scroll', handleLeftScroll);
            document.getElementById('album-right').addEventListener('scroll', handleRightScroll);
        }

        function showContact() {
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('contact-page').style.display = 'block';
            
            // Remove scroll listeners
            document.getElementById('album-left').removeEventListener('scroll', handleLeftScroll);
            document.getElementById('album-right').removeEventListener('scroll', handleRightScroll);
        }

        // Initialize everything
        function init() {
            initializeAlbums();
            loadInitialImages();
            
            // Add initial scroll listeners
            document.getElementById('album-left').addEventListener('scroll', handleLeftScroll);
            document.getElementById('album-right').addEventListener('scroll', handleRightScroll);
        }

        // Start when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
