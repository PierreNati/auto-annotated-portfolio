<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pierre Nativel - Photographe</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo" onclick="showHome()">Pierre Nativel</div>
        <nav>
            <a class="nav-link" onclick="showContact()">Contact</a>
        </nav>
    </header>

    <!-- Home page with independent scrollable masonry albums -->
    <div id="home-page" class="main-content">
        <div class="album-container" id="album-left">
            <div class="masonry-album" id="album1"></div>
        </div>
        <div class="album-container" id="album-right">
            <div class="masonry-album" id="album2"></div>
        </div>
    </div>

    <!-- Contact page -->
    <div id="contact-page" class="contact-page">
        <h1 class="contact-title">Contact</h1>
        <div class="contact-content">
            <p>Pour toute demande de collaboration, shooting ou projet photographique, n'hésitez pas à me contacter.</p>
            <p><a href="mailto:pierre.nativel@email.com" class="contact-email">pierre.nativel@email.com</a></p>
            <p>Basé à Rouen, Normandie<br>
            Disponible pour des projets en France et à l'international</p>
        </div>
    </div>

    <script>
        // Sample images with different ratios for variety
        const allImages = [
            { url: 'https://picsum.photos/id/1015/400/600', alt: 'Photo 1' },
            { url: 'https://picsum.photos/id/1016/400/700', alt: 'Photo 2' },
            { url: 'https://picsum.photos/id/1025/400/500', alt: 'Photo 3' },
            { url: 'https://picsum.photos/id/1033/400/300', alt: 'Photo 4' },
            { url: 'https://picsum.photos/id/1035/400/400', alt: 'Photo 5' },
            { url: 'https://picsum.photos/id/1040/400/800', alt: 'Photo 6' },
            { url: 'https://picsum.photos/id/1050/400/600', alt: 'Photo 7' },
            { url: 'https://picsum.photos/id/1060/400/450', alt: 'Photo 8' },
            { url: 'https://picsum.photos/id/1070/400/650', alt: 'Photo 9' },
            { url: 'https://picsum.photos/id/1080/400/550', alt: 'Photo 10' },
            { url: 'https://picsum.photos/id/200/400/700', alt: 'Photo 11' },
            { url: 'https://picsum.photos/id/201/400/400', alt: 'Photo 12' },
            { url: 'https://picsum.photos/id/202/400/600', alt: 'Photo 13' },
            { url: 'https://picsum.photos/id/203/400/500', alt: 'Photo 14' },
            { url: 'https://picsum.photos/id/204/400/750', alt: 'Photo 15' },
            { url: 'https://picsum.photos/id/206/400/350', alt: 'Photo 16' },
            { url: 'https://picsum.photos/id/208/400/600', alt: 'Photo 17' },
            { url: 'https://picsum.photos/id/209/400/450', alt: 'Photo 18' },
            { url: 'https://picsum.photos/id/210/400/550', alt: 'Photo 19' },
            { url: 'https://picsum.photos/id/211/400/700', alt: 'Photo 20' },
            { url: 'https://picsum.photos/id/212/400/400', alt: 'Photo 21' },
            { url: 'https://picsum.photos/id/213/400/650', alt: 'Photo 22' },
            { url: 'https://picsum.photos/id/214/400/500', alt: 'Photo 23' },
            { url: 'https://picsum.photos/id/215/400/600', alt: 'Photo 24' },
            { url: 'https://picsum.photos/id/216/400/450', alt: 'Photo 25' },
            { url: 'https://picsum.photos/id/217/400/750', alt: 'Photo 26' },
            { url: 'https://picsum.photos/id/218/400/350', alt: 'Photo 27' },
            { url: 'https://picsum.photos/id/219/400/600', alt: 'Photo 28' },
            { url: 'https://picsum.photos/id/220/400/550', alt: 'Photo 29' },
            { url: 'https://picsum.photos/id/221/400/700', alt: 'Photo 30' }
        ];

        // Shuffle array function
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Initialize shuffled arrays for each album
        let leftImages = [];
        let rightImages = [];
        let leftIndex = 0;
        let rightIndex = 0;

        function initializeAlbums() {
            // Create two different random orders
            const shuffled1 = shuffleArray(allImages);
            const shuffled2 = shuffleArray(allImages);
            
            leftImages = shuffled1;
            rightImages = shuffled2;
            
            leftIndex = 0;
            rightIndex = 0;
        }

        function createPhoto(imageData) {
            const img = document.createElement('img');
            img.src = imageData.url;
            img.alt = imageData.alt;
            img.loading = 'lazy';
            img.className = 'masonry-item';
            
            // Add click handler
            img.addEventListener('click', function() {
                console.log('Photo clicked:', imageData.url);
            });
            
            return img;
        }

        function loadInitialImages() {
            const album1 = document.getElementById('album1');
            const album2 = document.getElementById('album2');
            
            // Load initial images for left album (8 images)
            for (let i = 0; i < 8 && leftIndex < leftImages.length; i++) {
                const img = createPhoto(leftImages[leftIndex]);
                album1.appendChild(img);
                leftIndex++;
            }
            
            // Load initial images for right album (8 images)
            for (let i = 0; i < 8 && rightIndex < rightImages.length; i++) {
                const img = createPhoto(rightImages[rightIndex]);
                album2.appendChild(img);
                rightIndex++;
            }
        }

        function loadMoreImagesLeft() {
            const album1 = document.getElementById('album1');
            
            for (let i = 0; i < 4; i++) {
                if (leftIndex >= leftImages.length) {
                    // Reshuffle and restart
                    leftImages = shuffleArray(allImages);
                    leftIndex = 0;
                }
                
                const img = createPhoto(leftImages[leftIndex]);
                album1.appendChild(img);
                leftIndex++;
            }
        }

        function loadMoreImagesRight() {
            const album2 = document.getElementById('album2');
            
            for (let i = 0; i < 4; i++) {
                if (rightIndex >= rightImages.length) {
                    // Reshuffle and restart
                    rightImages = shuffleArray(allImages);
                    rightIndex = 0;
                }
                
                const img = createPhoto(rightImages[rightIndex]);
                album2.appendChild(img);
                rightIndex++;
            }
        }

        // Independent scroll handlers
        let isLoadingLeft = false;
        let isLoadingRight = false;

        function handleLeftScroll() {
            if (isLoadingLeft) return;
            
            const container = document.getElementById('album-left');
            const scrollTop = container.scrollTop;
            const scrollHeight = container.scrollHeight;
            const clientHeight = container.clientHeight;
            
            if (scrollTop + clientHeight >= scrollHeight - 800) {
                isLoadingLeft = true;
                loadMoreImagesLeft();
                setTimeout(() => {
                    isLoadingLeft = false;
                }, 200);
            }
        }

        function handleRightScroll() {
            if (isLoadingRight) return;
            
            const container = document.getElementById('album-right');
            const scrollTop = container.scrollTop;
            const scrollHeight = container.scrollHeight;
            const clientHeight = container.clientHeight;
            
            if (scrollTop + clientHeight >= scrollHeight - 800) {
                isLoadingRight = true;
                loadMoreImagesRight();
                setTimeout(() => {
                    isLoadingRight = false;
                }, 200);
            }
        }

        // Page navigation
        function showHome() {
            document.getElementById('home-page').style.display = 'flex';
            document.getElementById('contact-page').style.display = 'none';
            
            // Add scroll listeners for both albums
            document.getElementById('album-left').addEventListener('scroll', handleLeftScroll);
            document.getElementById('album-right').addEventListener('scroll', handleRightScroll);
        }

        function showContact() {
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('contact-page').style.display = 'block';
            
            // Remove scroll listeners
            document.getElementById('album-left').removeEventListener('scroll', handleLeftScroll);
            document.getElementById('album-right').removeEventListener('scroll', handleRightScroll);
        }

        // Initialize everything
        function init() {
            initializeAlbums();
            loadInitialImages();
            
            // Add initial scroll listeners
            document.getElementById('album-left').addEventListener('scroll', handleLeftScroll);
            document.getElementById('album-right').addEventListener('scroll', handleRightScroll);
        }

        // Start when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
